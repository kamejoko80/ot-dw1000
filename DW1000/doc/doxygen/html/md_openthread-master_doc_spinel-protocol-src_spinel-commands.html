<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OT-DW1000: Commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Open-Thread-Logo-200x42.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OT-DW1000
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Commands </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_NOOP </td></tr>
</table>
<p>No-Operation command. Induces the NCP to send a success status back to the host. This is primarily used for liveliness checks.</p>
<p>The command payload for this command SHOULD be empty. The receiver MUST ignore any non-empty command payload.</p>
<p>There is no error condition for this command.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_RESET </td></tr>
</table>
<p>Reset NCP command. Causes the NCP to perform a software reset. Due to the nature of this command, the TID is ignored. The host should instead wait for a <code>CMD_PROP_VALUE_IS</code> command from the NCP indicating <code>PROP_LAST_STATUS</code> has been set to <code>STATUS_RESET_SOFTWARE</code>.</p>
<p>The command payload for this command SHOULD be empty. The receiver MUST ignore any non-empty command payload.</p>
<p>If an error occurs, the value of <code>PROP_LAST_STATUS</code> will be emitted instead with the value set to the generated status code for the error.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th>1-3  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PROP_VALUE_GET </td><td>PROP_ID </td></tr>
</table>
<p>Get property value command. Causes the NCP to emit a <code>CMD_PROP_VALUE_IS</code> command for the given property identifier.</p>
<p>The payload for this command is the property identifier encoded in the packed unsigned integer format described in (#packed-unsigned-integer).</p>
<p>If an error occurs, the value of <code>PROP_LAST_STATUS</code> will be emitted instead with the value set to the generated status code for the error.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th>1-3 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PROP_VALUE_SET </td><td>PROP_ID </td><td>VALUE </td></tr>
</table>
<p>Set property value command. Instructs the NCP to set the given property to the specific given value, replacing any previous value.</p>
<p>The payload for this command is the property identifier encoded in the packed unsigned integer format described in (#packed-unsigned-integer), followed by the property value. The exact format of the property value is defined by the property.</p>
<p>If an error occurs, the value of <code>PROP_LAST_STATUS</code> will be emitted with the value set to the generated status code for the error.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th>1-3 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PROP_VALUE_INSERT </td><td>PROP_ID </td><td>VALUE </td></tr>
</table>
<p>Insert value into property command. Instructs the NCP to insert the given value into a list-oriented property, without removing other items in the list. The resulting order of items in the list is defined by the individual property being operated on.</p>
<p>The payload for this command is the property identifier encoded in the packed unsigned integer format described in (#packed-unsigned-integer), followed by the value to be inserted. The exact format of the value is defined by the property.</p>
<p>If the type signature of the property specified by <code>PROP_ID</code> consists of a single structure enclosed by an array (<code>A(t(...))</code>), then the contents of <code>VALUE</code> MUST contain the contents of the structure (<code>...</code>) rather than the serialization of the whole item (<code>t(...)</code>). Specifically, the length of the structure MUST NOT be prepended to <code>VALUE</code>. This helps to eliminate redundant data.</p>
<p>If an error occurs, the value of <code>PROP_LAST_STATUS</code> will be emitted with the value set to the generated status code for the error.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th>1-3 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PROP_VALUE_REMOVE </td><td>PROP_ID </td><td>VALUE </td></tr>
</table>
<p>Remove value from property command. Instructs the NCP to remove the given value from a list-oriented property, without affecting other items in the list. The resulting order of items in the list is defined by the individual property being operated on.</p>
<p>Note that this command operates <em>by value</em>, not by index!</p>
<p>The payload for this command is the property identifier encoded in the packed unsigned integer format described in (#packed-unsigned-integer), followed by the value to be removed. The exact format of the value is defined by the property.</p>
<p>If the type signature of the property specified by <code>PROP_ID</code> consists of a single structure enclosed by an array (<code>A(t(...))</code>), then the contents of <code>VALUE</code> MUST contain the contents of the structure (<code>...</code>) rather than the serialization of the whole item (<code>t(...)</code>). Specifically, the length of the structure MUST NOT be prepended to <code>VALUE</code>. This helps to eliminate redundant data.</p>
<p>If an error occurs, the value of <code>PROP_LAST_STATUS</code> will be emitted with the value set to the generated status code for the error.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th>1-3 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PROP_VALUE_IS </td><td>PROP_ID </td><td>VALUE </td></tr>
</table>
<p>Property value notification command. This command can be sent by the NCP in response to a previous command from the host, or it can be sent by the NCP in an unsolicited fashion to notify the host of various state changes asynchronously.</p>
<p>The payload for this command is the property identifier encoded in the packed unsigned integer format described in (#packed-unsigned-integer), followed by the current value of the given property.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th>1-3 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PROP_VALUE_INSERTED </td><td>PROP_ID </td><td>VALUE </td></tr>
</table>
<p>Property value insertion notification command. This command can be sent by the NCP in response to the <code>CMD_PROP_VALUE_INSERT</code> command, or it can be sent by the NCP in an unsolicited fashion to notify the host of various state changes asynchronously.</p>
<p>The payload for this command is the property identifier encoded in the packed unsigned integer format described in (#packed-unsigned-integer), followed by the value that was inserted into the given property.</p>
<p>If the type signature of the property specified by <code>PROP_ID</code> consists of a single structure enclosed by an array (<code>A(t(...))</code>), then the contents of <code>VALUE</code> MUST contain the contents of the structure (<code>...</code>) rather than the serialization of the whole item (<code>t(...)</code>). Specifically, the length of the structure MUST NOT be prepended to <code>VALUE</code>. This helps to eliminate redundant data.</p>
<p>The resulting order of items in the list is defined by the given property.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th>1-3 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PROP_VALUE_REMOVED </td><td>PROP_ID </td><td>VALUE </td></tr>
</table>
<p>Property value removal notification command. This command can be sent by the NCP in response to the <code>CMD_PROP_VALUE_REMOVE</code> command, or it can be sent by the NCP in an unsolicited fashion to notify the host of various state changes asynchronously.</p>
<p>Note that this command operates <em>by value</em>, not by index!</p>
<p>The payload for this command is the property identifier encoded in the packed unsigned integer format described in (#packed-unsigned-integer), followed by the value that was removed from the given property.</p>
<p>If the type signature of the property specified by <code>PROP_ID</code> consists of a single structure enclosed by an array (<code>A(t(...))</code>), then the contents of <code>VALUE</code> MUST contain the contents of the structure (<code>...</code>) rather than the serialization of the whole item (<code>t(...)</code>). Specifically, the length of the structure MUST NOT be prepended to <code>VALUE</code>. This helps to eliminate redundant data.</p>
<p>The resulting order of items in the list is defined by the given property.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th>4 </th><th>2  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PEEK </td><td>ADDRESS </td><td>COUNT </td></tr>
</table>
<p>This command allows the NCP to fetch values from the RAM of the NCP for debugging purposes. Upon success, <code>CMD_PEEK_RET</code> is sent from the NCP to the host. Upon failure, <code>PROP_LAST_STATUS</code> is emitted with the appropriate error indication.</p>
<p>Due to the low-level nature of this command, certain error conditions may induce the NCP to reset.</p>
<p>The NCP MAY prevent certain regions of memory from being accessed.</p>
<p>The implementation of this command has security implications. See (#security-considerations) for more information.</p>
<p>This command requires the capability <code>CAP_PEEK_POKE</code> to be present.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th>4 </th><th>2 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PEEK_RET </td><td>ADDRESS </td><td>COUNT </td><td>BYTES </td></tr>
</table>
<p>This command contains the contents of memory that was requested by a previous call to <code>CMD_PEEK</code>.</p>
<p>This command requires the capability <code>CAP_PEEK_POKE</code> to be present.</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th>4 </th><th>2 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_POKE </td><td>ADDRESS </td><td>COUNT </td><td>BYTES </td></tr>
</table>
<p>This command writes the bytes to the specified memory address for debugging purposes.</p>
<p>Due to the low-level nature of this command, certain error conditions may induce the NCP to reset.</p>
<p>The implementation of this command has security implications. See (#security-considerations) for more information.</p>
<p>This command requires the capability <code>CAP_PEEK_POKE</code> to be present.</p>
<ul>
<li>Argument-Encoding: <code>A(i)</code></li>
<li>Required Capability: <code>CAP_CMD_MULTI</code></li>
</ul>
<p>Fetch the value of multiple properties in one command. Arguments are an array of property IDs. If all properties are fetched successfully, a <code>CMD_PROP_VALUES_ARE</code> command is sent back to the host containing the propertyid and value of each fetched property. The order of the results in <code>CMD_PROP_VALUES_ARE</code> match the order of properties given in <code>CMD_PROP_VALUE_GET</code>.</p>
<p>Errors fetching individual properties are reflected as indicating a change to <code>PROP_LAST_STATUS</code> for that property's place.</p>
<p>Not all properties can be fetched using this method. As a general rule of thumb, any property that blocks when getting will fail for that individual property with <code>STATUS_INVALID_COMMAND_FOR_PROP</code>.</p>
<ul>
<li>Argument-Encoding: <code>A(iD)</code></li>
<li>Required Capability: <code>CAP_CMD_MULTI</code></li>
</ul>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PROP_VALUE_MULTI_SET </td><td>Property/Value Pairs </td></tr>
</table>
<p>With each property/value pair being:</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>2 </th><th>1-3 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>LENGTH </td><td>PROP_ID </td><td>PROP_VALUE </td></tr>
</table>
<p>This command sets the value of several properties at once in the given order. The setting of properties stops at the first error, ignoring any later properties.</p>
<p>The result of this command is generally <code>CMD_PROP_VALUES_ARE</code> unless (for example) a parsing error has occured (in which case <code>CMD_PROP_VALUE_IS</code> for <code>PROP_LAST_STATUS</code> would be the result). The order of the results in <code>CMD_PROP_VALUES_ARE</code> match the order of properties given in <code>CMD_PROP_VALUE_MULTI_SET</code>.</p>
<p>Since the processing of properties to set stops at the first error, the resulting <code>CMD_PROP_VALUES_ARE</code> can contain fewer items than the requested number of properties to set.</p>
<p>Not all properties can be set using this method. As a general rule of thumb, any property that blocks when setting will fail for that individual property with <code>STATUS_INVALID_COMMAND_FOR_PROP</code>.</p>
<ul>
<li>Argument-Encoding: <code>A(iD)</code></li>
<li>Required Capability: <code>CAP_CMD_MULTI</code></li>
</ul>
<table class="doxtable">
<tr>
<th>Octets: </th><th>1 </th><th>1 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>HEADER </td><td>CMD_PROP_VALUES_ARE </td><td>Property/Value Pairs </td></tr>
</table>
<p>With each property/value pair being:</p>
<table class="doxtable">
<tr>
<th>Octets: </th><th>2 </th><th>1-3 </th><th><em>n</em>  </th></tr>
<tr>
<td>Fields: </td><td>LENGTH </td><td>PROP_ID </td><td>PROP_VALUE </td></tr>
</table>
<p>This command is emitted by the NCP as the response to both the <code>CMD_PROP_VALUE_MULTI_GET</code> and <code>CMD_PROP_VALUE_MULTI_SET</code> commands. It is roughly analogous to <code>CMD_PROP_VALUE_IS</code>, except that it contains more than one property.</p>
<p>This command SHOULD NOT be emitted asynchronously, or in response to any command other than <code>CMD_PROP_VALUE_MULTI_GET</code> or <code>CMD_PROP_VALUE_MULTI_SET</code>.</p>
<p>The arguments are a list of structures containing the emitted property and the associated value. These are presented in the same order as given in the associated initiating command. In cases where getting or setting a specific property resulted in an error, the associated slot in this command will describe <code>PROP_LAST_STATUS</code>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 21 2017 18:58:05 for OT-DW1000 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
