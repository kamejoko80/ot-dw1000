<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OT-DW1000: COAP Based Cloud Application with DW1000</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Open-Thread-Logo-200x42.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OT-DW1000
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">COAP Based Cloud Application with DW1000 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>COAP Based Cloud Application which will send the integer data to the cloud through dw1000 radio and Nordic Host controller with the coap support in openthread stack. The setup for this example is same as defined in the thread border router example.</p>
<p>Steps to be followed to test the COAP Based Cloud Application is defined as follows.</p><ol type="1">
<li>Register with cloud (things.io)</li>
<li>Create a new Project</li>
<li>Add the token in the CLI source code and recompile the code.</li>
<li>Create a widget on the web interface</li>
<li>Testing</li>
</ol>
<p>Here will explain these steps in detail </p><h2>1. Register with cloud (www.things.io)</h2>
<p>For a detailed description of the sign-up procedure and an introduction to the web interface of thethings.io, complete the steps described in thethings.io Getting Started. </p><h2>2. Create a new product:</h2>
<ul>
<li>Log in to the main control panel.</li>
<li>Go to the Things Manager page.</li>
<li>Create a new product. Select Raspberry Pi as Board</li>
<li>Choose JSON as the data type.</li>
<li>Activate the Thing by clicking Activate More Things.</li>
<li>After the Thing has been activated, copy the related Thing Token.</li>
</ul>
<h2>3. Add the token in the CLI source code and recompile the code.</h2>
<p><b>Note:</b> The Token must be copied into the CLI application source code. i.e., The value can be found in the header of the file <a class="el" href="coap__api_8cpp.html">coap_api.cpp</a> represented as the CLOUD_URI_PATH define. This file located in openthread-master/src/core/api/ directory. Replace Thing Token ({THING_TOKEN} string) with the appropriate one, obtained in the process of Cloud setup.</p>
<div class="fragment"><div class="line">#define CLOUD_URI_PATH            &quot;v2/things/{THING_TOKEN}&quot;</div></div><!-- fragment --><p> <b>EX:</b> </p><div class="fragment"><div class="line">#define CLOUD_URI_PATH            &quot;v2/things/DFdOKr5AHo_7Aj-L7UNnIO4BSunTvQeaJSgCWILuYA0&quot;</div></div><!-- fragment --><ul>
<li>After replacing the token, recompile the code with enabling coap support in the source code. <div class="fragment"><div class="line">COAP=1 ENABLE_DW1000=1 make -f examples/Makefile-nrf52840-dw1000</div></div><!-- fragment --></li>
<li>Flash the CLI on one node and NCP on another node and connect to the Raspberry Pi as mentioned in the <code>Thread_Border_Router</code> setup.</li>
<li>Start the Thread Network as Mentioned in the <code>Thread Border Router Example</code>.</li>
<li>On cli node by using coapsend command Push the first integer value to the cloud <div class="fragment"><div class="line">coapsend 45</div></div><!-- fragment --> <h2>4. Create a Widget on the web Interface to monitor the interger values</h2>
</li>
</ul>
<p>Go to the Dashboard page. </p><pre class="fragment">   * Optionally, remove all temporary created widgets by clicking Edit Dashboard.
   * Click Add Widget (+).
   * Fill in the name of the widget, for example Temperature, choose Thing Resource as a Data Source, and temp as a Resource.
   * Use Gauge as Widget Type and check the Realtime check box.
   * Optionally, you may also fill in the ranges ,units, for example Celsius.
   * You can observe the the Guage widget with Temparature value as 45.
</pre> <h2>5. Testing:</h2>
<p>Now, from the CLI node by continously using coapsend command you can observe the changes on the web interface . </p><div class="fragment"><div class="line">coapsend 50</div><div class="line">coapsend 30</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 21 2017 18:58:05 for OT-DW1000 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
