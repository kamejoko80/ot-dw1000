<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OT-DW1000: Feature: Host Buffer Offload</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Open-Thread-Logo-200x42.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OT-DW1000
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Feature: Host Buffer Offload </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The memory on an NCP may be much more limited than the memory on the host processor. In such situations, it is sometimes useful for the NCP to offload buffers to the host processor temporarily so that it can perform other operations.</p>
<p>Host buffer offload is an optional NCP capability that, when present, allows the NCP to store data buffers on the host processor that can be recalled at a later time.</p>
<p>The presence of this feature can be detected by the host by checking for the presence of the <code>CAP_HBO</code> capability in <code>PROP_CAPS</code>.</p>
<h2>Commands</h2>
<h3>CMD 12: (NCP-&gt;Host) CMD_HBO_OFFLOAD</h3>
<ul>
<li>Argument-Encoding: <code>LscD</code><ul>
<li><code>OffloadId</code>: 32-bit unique block identifier</li>
<li><code>Expiration</code>: In seconds-from-now</li>
<li><code>Priority</code>: Critical, High, Medium, Low</li>
<li><code>Data</code>: Data to offload</li>
</ul>
</li>
</ul>
<h3>CMD 13: (NCP-&gt;Host) CMD_HBO_RECLAIM</h3>
<ul>
<li>Argument-Encoding: <code>Lb</code><ul>
<li><code>OffloadId</code>: 32-bit unique block identifier</li>
<li><code>KeepAfterReclaim</code>: If not set to true, the block will be dropped by the host after it is sent to the NCP.</li>
</ul>
</li>
</ul>
<h3>CMD 14: (NCP-&gt;Host) CMD_HBO_DROP</h3>
<ul>
<li>Argument-Encoding: <code>L</code><ul>
<li><code>OffloadId</code>: 32-bit unique block identifier</li>
</ul>
</li>
</ul>
<h3>CMD 15: (Host-&gt;NCP) CMD_HBO_OFFLOADED</h3>
<ul>
<li>Argument-Encoding: <code>Li</code><ul>
<li><code>OffloadId</code>: 32-bit unique block identifier</li>
<li><code>Status</code>: Status code for the result of the operation.</li>
</ul>
</li>
</ul>
<h3>CMD 16: (Host-&gt;NCP) CMD_HBO_RECLAIMED</h3>
<ul>
<li>Argument-Encoding: <code>LiD</code><ul>
<li><code>OffloadId</code>: 32-bit unique block identifier</li>
<li><code>Status</code>: Status code for the result of the operation.</li>
<li><code>Data</code>: Data that was previously offloaded (if any)</li>
</ul>
</li>
</ul>
<h3>CMD 17: (Host-&gt;NCP) CMD_HBO_DROPPED</h3>
<ul>
<li>Argument-Encoding: <code>Li</code><ul>
<li><code>OffloadId</code>: 32-bit unique block identifier</li>
<li><code>Status</code>: Status code for the result of the operation.</li>
</ul>
</li>
</ul>
<h2>Properties</h2>
<ul>
<li>Type: Read-Write</li>
<li>Packed-Encoding: <code>L</code></li>
</ul>
<table class="doxtable">
<tr>
<th>Octets: </th><th>4  </th></tr>
<tr>
<td>Fields: </td><td><code>PROP_HBO_MEM_MAX</code> </td></tr>
</table>
<p>Describes the number of bytes that may be offloaded from the NCP to the host. Default value is zero, so this property must be set by the host to a non-zero value before the NCP will begin offloading blocks.</p>
<p>This value is encoded as an unsigned 32-bit integer.</p>
<p>This property is only available if the <code>CAP_HBO</code> capability is present in <code>PROP_CAPS</code>.</p>
<ul>
<li>Type: Read-Write</li>
<li>Packed-Encoding: <code>S</code></li>
</ul>
<table class="doxtable">
<tr>
<th>Octets: </th><th>2  </th></tr>
<tr>
<td>Fields: </td><td><code>PROP_HBO_BLOCK_MAX</code> </td></tr>
</table>
<p>Describes the number of blocks that may be offloaded from the NCP to the host. Default value is 32. Setting this value to zero will cause host block offload to be effectively disabled.</p>
<p>This value is encoded as an unsigned 16-bit integer.</p>
<p>This property is only available if the <code>CAP_HBO</code> capability is present in <code>PROP_CAPS</code>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 21 2017 18:58:05 for OT-DW1000 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
